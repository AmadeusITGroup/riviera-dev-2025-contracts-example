# Contract based application demo

## Introduction

Welcome to the demo project presented during the Riviera DEV 2025 in the talk "Un dev frontend, un dev backend et un UX
entrent dans un bar".

This project aims at showcasing different contracts between the UX, the frontend and the backend of an application to
accelerate and automate the development.
It contains the following examples:

- Interactions between backend and frontend through an HTTP Rest API SDK used to generated interfaces and endpoints for
  both client and server
- Design Tokens generated by Figma and used as variables in the frontend styling
- Configuration metadata to customize the frontend application from an external environment

## Description

### Structure

The repository is divided in 4 folders:

- `contracts/`: all the contract involved in the project:
  - `api/`: Open API specification file used to generate the java and typescript API SDK *see `generated/sdks` section*.
  - `design-token/`: Design token file generated by Figma that will be used to generate the project scss variables.
  - `generated/`: contracts generated from the frontend code (localization keys, available configurations)
- `generated/`: code generated from the contract by their respective tools
  - `sdks/`: Java and Typescript Software Development Kits with generated interfaces, entrypoints and call implementations.
  - `styles/`: scss variables generated from the Design-Tokens.
- `backend/`: quarkus backend to manage the todos in the application based on the Java API SDK.
- `frontend/`: angular project with the todo-ui application based on the generated Typescript SDK and the scss variables.

## How to run the project

### Backend

> [!TIP]
> Pre-requisite:
>
> - maven installed
> - Java version > 23

Start with the generation of the Java SDK.  
In the `generated/sdks/java-server-sdk` folder, run the command `mvn clean install`

Once the SDK has been generated, you can launch your quarkus.
In the `backend` folder, run `./mvnw quarkus:dev`, your backend will be available locally at <http://localhost:8080/q/dev/>.

> [!NOTE]
> If at any point you need to regenerate the SDK, run the command `mvn generate` in the folder and rebuild the SDK.

### Frontend
>
> [!TIP]
> Pre-requisite:
>
> - node version > 20

Start with the generation of the typescript SDK.
In the `generated/sdks/typescript-client-sdk` folder, run the command `npm install` and build the project with
`npm run build`.

> [!NOTE]
> If at any point you need to regenerate the SDK, run the command `npm run spec:regen` in the folder and rebuild the SDK.

Once the SDK has been build, you can run the web application.
In the `frontend` folder, install the project with `npm install` and start the project with `npm start`.

### VSCode

If you code with VsCode, you can run locally the project with the Task Launcher `start` or run the task `todo-app`. It will completely setup and run locally the application.
> [!TIP]
> All different tasks are available in `.vscode/tasks.json`.
