# Contract based application demo

## Introduction

Welcome to the demo project presented during the Riviera DEV 2025 in the talk "Un dev frontend, un dev backend et un UX
entrent dans un bar".

This project aims at showcasing different contracts between the UX, the frontend and the backend of an application to
accelerate and automate the development.
It contains the following examples:

- Interactions between backend and frontend through an HTTP Rest API SDK used to generated interfaces and endpoints for
  both client and server
- Design Tokens generated by Figma and used as variables in the frontend styling
- Configuration metadata to customize the frontend application from an external environment

## Description

### Structure

The repository is divided in 3 folders:

- `contracts/`: all the contract involved in the project:
  - `api/`: OpenAPI specification file used to generate a Java and a TypeScript API SDKs.
  - `design-token/`: Design Token file generated by Figma that will be used to generate the project SCSS variables.
  - `generated/`: contracts generated from the frontend code (localization keys, available configurations)
- `backend/`: Quarkus backend to manage the todos in the application based on a generated Java API SDK.
- `frontend/`: Angular project with the todo-ui application based on the generated TypeScript SDK and the SCSS variables.

## How to run the project

### Backend

> [!TIP]
> Pre-requisite:
>
> - maven installed
> - Java version > 23

Start with the generation of the Java SDK.  
In the `backend` folder, run the command `mvn clean install`

Once the SDK has been generated, you can launch your Quarkus.
In the `backend` folder, run `./mvnw quarkus:dev`, your backend will be available locally at <http://localhost:8080/>.

> [!NOTE]
> If at any point you need to re-generate the SDK, run the command `mvn generate` in the folder and re-start your Quarkus.

### Frontend

> [!TIP]
> Pre-requisite:
>
> - node version > 20

For simplicity's sake, the web application todo-ui directly targets the sdk sources and does not require a build from 
the sdk project.
You just need to install the dependencies by running `npm install` and `npm start` in the `frontend` folder.

> [!NOTE]
> If at any point you need to re-generate the SDK, re-run the command `npm run -w @riviera-dev-contracts/todo-sdk sdk:generate` in the `frontend` folder and re-start the application.

### VSCode

If you code with VSCode, you can run locally the project with the Task Launcher `start` or run the task `todo-app`. It will completely setup and run locally the application.

> [!TIP]
> All different tasks are available in `.vscode/tasks.json`.
